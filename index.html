<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Package Calculator</title>
</head>

<body>
    <link rel="stylesheet" type="text/css" href="style.css" />

    <div id="container">
        <form>

        <!-- TODO: Make an animation of the arrows and change width/depth on click -->
        <div id="flipArrows" style="display: none">
            &#8645;&#x21C5; <!-- up down arrow -->
            &#8693;&#x21F5; <!-- down up arrow -->
        </div>

        <!-- Two seperate windows for package and case/PDQ/Try-Me -->
        <div id="package">
            <canvas id="pkgCanvas">Package Canvas</canvas>

            <table>
                <tr><td></td><td colspan="2" align="center">Package</td></tr>

                <tr>
                <td><div class="legend">
                    <div>Width:</div>
                    <div>Depth:</div>
                    <div>Height:</div>
                    <div>Cube:</div>
                </div></td>
                
                <td><div class="divTable">
                    <div>
                        <input name="pkgW_CM" type="number" placeholder="0.0" 
                               id ="pkgW_CM" class="cell">
                        <span>cm</span>
                        <input name="pkgW_IN" type="number" placeholder="0.0"
                               id="pkgW_IN" class="cell">
                        <span>in</span>
                    </div>

                    <div>
                        <input name="pkgD_CM" type="number" placeholder="0.0"
                               id="pkgD_CM" class="cell">
                        <span>cm</span>
                        <input name="pkgD_IN" type="number" placeholder="0.0"
                               id="pkgD_IN" class="cell">
                        <span>in</span>
                    </div>

                    <div>
                        <input name="pkgH_CM" type="number" placeholder="0.0"
                               id="pkgH_CM" class="cell">
                        <span>cm</span>
                        <input name="pkgH_IN" type="number" placeholder="0.0"
                               id="pkgH_IN" class="cell">
                        <span>in</span>
                    </div>

                    <div>
                        <input name="pkgC_M" type="number" placeholder="0.0" readonly
                               id="pkgC_M" class="noRange noBG">
                        <span>M</span>
                        <input name="pkgC_FT" type="number" placeholder="0.0" readonly
                               id="pkgC_FT" class="noRange noBG">
                        <span>Ft</span>
                    </div>
                </div></td>

                <!-- TODO: let user add a height value option -->

                <!-- Mods: i) +1.5, +1.5, +2; ii) +2, +2, +2.5 -->
                <td><div id="modOpt"class="divTable">
                    <div id="opt1"></div>
                    <div id="opt3"></div>
                    <div id="opt2"></div>
                    <input type="button" name="modBtn" onclick="modFlag = 1 - modFlag; setMod();"
                            id="modBtn" class="gemmyBorder"/>
                </div>
                </td></tr>

            </table>
        </div>

        <div id="masterCase">
            <canvas id="caseCanvas">Master Case Canvas</canvas>

            <table>
                <tr><td></td>
                <td align="center">
                    Master Case | Qty: 

                    <div id="qtyByCover">
                        <!--<div id="qtyEff"></div>-->
                        <!--<div>TEST</div>-->


                        <!--<input name="qty1" type="number" value="2"
               id="qty1" class="noRange">-->
                        <!-- Multiply sign. Or use: &#215; -->
                        <!--&times;-->
                        <!--<input name="qty2" type="number" value="3"
               id="qty2" class="noRange">-->

                    </div>



                    <!-- User clicks on qty, two hidden inputs will show -->
                    <!--<input name="qtyCover" type="number"
                           id="qtyCover" class=".noRange" readonly/>-->
                    
                </td></tr>

                <tr>
                <td><div class="legend">
                    <div>Width:</div>
                    <div>Depth:</div>
                    <div>Height:</div>
                    <div>Cube:</div>
                </div></td>
                
                <td><div class="divTable">
                    <div>
                        <input class="input" name="masterW_CM" type="number" placeholder="0.0">
                        <span>cm</span>
                        <input name="masterW_IN" type="number" placeholder="0.0">
                        <span>in</span>
                    </div>

                    <div>
                        <input name="masterD_CM" type="number" placeholder="0.0">
                        <span>cm</span>
                        <input name="masterD_IN" type="number" placeholder="0.0">
                        <span>in</span>
                    </div>

                    <div>
                        <input name="masterH_CM" type="number" placeholder="0.0">
                        <span>cm</span>
                        <input name="masterH_IN" type="number" placeholder="0.0">
                        <span>in</span>
                    </div>

                    <div>
                        <input name="masterC_M" type="number" placeholder="0.0" readonly
                               id="masterC_M" class="noRange noBG">
                        <span>M</span>
                        <input name="masterC_FT" type="number" placeholder="0.0" readonly
                               id="masterC_FT" class="noRange noBG">
                        <span>Ft</span>
                    </div>
                </div></td></tr>

        </table></div>
    
        <!-- Save options: as an pop-up excel sheet / screenshot / and a clear button -->
        <div id="options">
            <button type="button" id="saveAsExcelBtn" class="flatbutton">Save As Excel</button>
            <!--<button type="button" id="saveScreenBtn" class="flatbutton">Save Screen to Clipboard</button>-->
            <button type="reset" class="flatbutton">Clear All</button>
        </div>

    </form></div>

    <!-- jQuery added just in case of downward compatibility -->
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.12.4.min.js"></script>
    <script src="js/validation.js"></script>
    <script src="js/drawPackage.js"></script>
    <script>
        //Global Variables
        var modFlag = 0;    // toggle package mod
        var w = 400, h = 200; // width and height for both canvases

        var test = new CanvasForm();
    
        // init()
        (function () {
            // init the modifier tables
            setMod();
            var a = document.getElementById('pkgCanvas');
            var c = a.getContext('2d');
            test.canvas = new Canvas(a, c, w, h, "white");

            setInterval(render, 30);

        })();


        var angle = 0;
        function render() {
            var t = [];

            // TODO: clear canvas
            test.canvas.c.clearRect(0, 0, w, h);

            // Calculates new points according to angle and projection
            for (var i = 0; i < axis_vertices.length; i++) {
                var v = axis_vertices[i];
                var r = v.rotateX(angle).rotateY(angle).rotateZ(angle);
                var p = r.project(w, h, 128, 3.5);
                t.push(p);
            }

            test.canvas.c.save();
            test.canvas.c.translate(-w / 2 + 30, h / 2 - 30);   // move to lower left corner
            // Origin point for reference
            drawPoint(test.canvas.c, t[0].x, t[0].y, 4, "white");

            // for each axis: which are 3 of them
            drawLine(test.canvas.c, t[0], t[1], 1, red);
            drawLine(test.canvas.c, t[0], t[2], 1, green);
            drawLine(test.canvas.c, t[0], t[3], 1, blue);
            test.canvas.c.restore();

            angle += 2;
        }


    </script>

</body>
</html>